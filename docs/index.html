<html><style>* {
      margin: 0;
    }
    body {
      align-items: center;
      background: black;
      display: flex;
      justify-content: center;
    }

    canvas {
      background: white;
      image-rendering: pixelated;
    }

    main {
      filter: brightness(0);
      transition: 5s filter;
    }

    main.loaded {
      filter: brightness(1);
    }

    .scanlines {
      position: relative;
      overflow: hidden;
    }
    .scanlines:before,
    .scanlines:after {
      display: block;
      pointer-events: none;
      content: "";
      position: absolute;
    }

    .scanlines:before {
      width: 100%;
      height: 2px;
      z-index: 2147483649;
      background: rgba(57, 255, 20, 0.12);
      opacity: 0.75;
      animation: scanline 6s linear infinite;
    }

    .scanlines:after {
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      z-index: 2147483648;
      background: linear-gradient(
        to bottom,
        transparent 50%,
        rgba(57, 255, 20, 0.12) 51%
      );
      background-size: 100% 4px;
      animation: scanlines 1s steps(60) infinite;
    }

    @keyframes scanline {
      0% {
        transform: translate3d(0, 200000%, 0);
      }
    }

    @keyframes scanlines {
      0% {
        background-position: 0 50%;
      }
    }</style><main class="scanlines"><canvas id="c" width="640" height="480"></canvas></main></html><script>!function(t){var i={};function s(e){if(i[e])return i[e].M;var h=i[e]={i:e,l:!1,M:{}};return t[e].call(h.M,h,h.M,s),h.l=!0,h.M}s.m=t,s.c=i,s.d=function(t,i,e){s.o(t,i)||Object.defineProperty(t,i,{C:!0,get:e})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"_",{value:!0})},s.t=function(t,i){if(1&i&&(t=s(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t._)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{C:!0,value:t}),2&i&&"string"!=typeof t)for(var h in t)s.d(e,h,function(i){return t[i]}.bind(null,h));return e},s.n=function(t){var i=t&&t._?function(){return t.default}:function(){return t};return s.d(i,"a",i),i},s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},s.p="",s(s.s=4)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Sound}));var jsfxr__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),jsfxr__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jsfxr__WEBPACK_IMPORTED_MODULE_0__);class Oscillator{constructor(){window.AudioContext=window.AudioContext||window.webkitAudioContext;let t=new AudioContext;this.L=t.createOscillator(),this.A=t.createGain(),this.L.connect(this.A),this.A.connect(t.destination),this.A.gain.value=0,this.L.start(0)}S({frequency:t,type:i,volume:s}){this.L.type=i,this.A.gain.value=s,this.L.frequency.value=t}O(){this.A.gain.value=0}D(){this.L.stop(0)}play({volume:t,frequency:i,duration:s,type:e}){this.L.type=e,this.L.frequency.value=i,this.A.gain.value=t,setTimeout(()=>this.A.gain.value=0,s)}}class Sound{constructor(){this.state={B:!1}}P(){this.state.B||(this.state.B=!0,this.B=this.B||new Oscillator,this.B.S({frequency:50,type:"triangle",volume:.2}))}I(){this.state.B&&(this.state.B=!1,this.B.O(),this.B=null)}F(url){const soundUrl=jsfxr__WEBPACK_IMPORTED_MODULE_0___default()(eval(url));let player=new Audio;player.src=soundUrl,player.play()}U(){this.F("[2,,0.1749,,0.3063,0.713,0.2,-0.2645,,,,,,0.0543,0.1546,,,,1,,,,,0.5]")}T(){this.F("[2,,0.1426,,0.2251,0.7799,0.2555,-0.2285,,,,,,0.7631,-0.4501,,,,1,,,0.0846,,0.5]")}K(){this.F("[3,,0.0937,0.571,0.3803,0.7495,,,,,,,,,,,,,1,,,,,0.5]")}W(){this.F("[3,,0.0867,,0.2283,0.2711,,-0.6853,,,,,,,,,,,1,,,,,0.5]")}H(){this.F("[0,,0.2934,0.1381,0.2143,0.6919,0.3422,-0.2379,,,,,,0.4281,-0.6711,,,,1,,,0.194,,0.5]")}}},function(t,i,s){function e(){this.R=function(t){for(var i=0;i<24;i++)this[String.fromCharCode(97+i)]=t[i]||0;this.c<.01&&(this.c=.01);var s=this.b+this.c+this.e;if(s<.18){var e=.18/s;this.b*=e,this.c*=e,this.e*=e}}}var h=new function(){var t,i,s,h,r,n,a,o,l,c,u,f;this.$=new e,this.reset=function(){var t=this.$;h=100/(t.f*t.f+.001),r=100/(t.g*t.g+.001),n=1-t.h*t.h*t.h*.01,a=-t.i*t.i*t.i*1e-6,t.a||(u=.5-t.n/2,f=5e-5*-t.o),o=1+t.l*t.l*(t.l>0?-.9:10),l=0,c=1==t.m?0:(1-t.m)*(1-t.m)*2e4+32},this.N=function(){this.reset();var e=this.$;return t=e.b*e.b*1e5,i=e.c*e.c*1e5,s=e.e*e.e*1e5+12,3*((t+i+s)/3|0)},this.Y=function(e,d){var w=this.$,y=1!=w.s||w.v,p=w.v*w.v*.1,M=1+3e-4*w.w,m=w.s*w.s*w.s*.1,C=1+1e-4*w.t,x=1!=w.s,v=w.x*w.x,g=w.g,b=w.q||w.r,_=w.r*w.r*w.r*.2,k=w.q*w.q*(w.q<0?-1020:1020),L=w.p?32+((1-w.p)*(1-w.p)*2e4|0):0,A=w.d,S=w.j/2,j=w.k*w.k*.01,O=w.a,z=t,E=1/t,D=1/i,B=1/s,P=5/(1+w.u*w.u*20)*(.01+m);P>.8&&(P=.8),P=1-P;for(var I,F,Q,U,T,q,K=!1,W=0,H=0,R=0,$=0,N=0,Y=0,J=0,G=0,X=0,Z=0,V=new Array(1024),tt=new Array(32),it=V.length;it--;)V[it]=0;for(it=tt.length;it--;)tt[it]=2*Math.random()-1;for(it=0;it<d;it++){if(K)return it;if(L&&++X>=L&&(X=0,this.reset()),c&&++l>=c&&(c=0,h*=o),(h*=n+=a)>r&&(h=r,g>0&&(K=!0)),F=h,S>0&&(Z+=j,F*=1+Math.sin(Z)*S),(F|=0)<8&&(F=8),O||((u+=f)<0?u=0:u>.5&&(u=.5)),++H>z)switch(H=0,++W){case 1:z=i;break;case 2:z=s}switch(W){case 0:R=H*E;break;case 1:R=1+2*(1-H*D)*A;break;case 2:R=1-H*B;break;case 3:R=0,K=!0}b&&((Q=0|(k+=_))<0?Q=-Q:Q>1023&&(Q=1023)),y&&M&&((p*=M)<1e-5?p=1e-5:p>.1&&(p=.1)),q=0;for(var st=8;st--;){if(++J>=F&&(J%=F,3==O))for(var et=tt.length;et--;)tt[et]=2*Math.random()-1;switch(O){case 0:T=J/F<u?.5:-.5;break;case 1:T=1-J/F*2;break;case 2:T=.225*(((T=1.27323954*(U=6.28318531*((U=J/F)>.5?U-1:U))+.405284735*U*U*(U<0?1:-1))<0?-1:1)*T*T-T)+T;break;case 3:T=tt[Math.abs(32*J/F|0)]}y&&(I=Y,(m*=C)<0?m=0:m>.1&&(m=.1),x?(N+=(T-Y)*m,N*=P):(Y=T,N=0),$+=(Y+=N)-I,T=$*=1-p),b&&(V[G%1024]=T,T+=V[(G-Q+1024)%1024],G++),q+=T}q*=.125*R*v,e[it]=q>=1?32767:q<=-1?-32768:32767*q|0}return d}};t.M=function(t){h.$.R(t);var i=h.N(),s=new Uint8Array(4*((i+1)/2|0)+44),e=2*h.Y(new Uint16Array(s.buffer,44),i),r=new Uint32Array(s.buffer,0,44);r[0]=1179011410,r[1]=e+36,r[2]=1163280727,r[3]=544501094,r[4]=16,r[5]=65537,r[6]=44100,r[7]=88200,r[8]=1048578,r[9]=1635017060,r[10]=e,e+=44;for(var n=0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o="data:audio/wav;base64,";n<e;n+=3){var l=s[n]<<16|s[n+1]<<8|s[n+2];o+=a[l>>18]+a[l>>12&63]+a[l>>6&63]+a[63&l]}return o}},function(t,i,s){t.M=function(){return s(3)('!function(n){var t={};function r(f){if(t[f])return t[f].t;var e=t[f]={u:f,i:!1,t:{}};return n[f].call(e.t,e,e.t,r),e.i=!0,e.t}r.o=n,r.c=t,r.d=function(n,t,f){r.l(n,t)||Object.defineProperty(n,t,{v:!0,get:f})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"s",{value:!0})},r.h=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.s)return n;var f=Object.create(null);if(r.r(f),Object.defineProperty(f,"default",{v:!0,value:n}),2&t&&"string"!=typeof n)for(var e in n)r.d(f,e,function(t){return n[t]}.bind(null,e));return f},r.n=function(n){var t=n&&n.s?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.l=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="",r(r.M=0)}([function(n,t,r){"use strict";let f={j:[{u:[2,100,128,0,3,201,128,0,0,0,0,6,29,0,0,0,194,4,1,3,25,191,115,244,147,6,84,6],p:[5,1,2,1,1,1,1,3,4,1,2,1,2,1,2,,,7,8,7,8,7,8,7,8,6,9],c:[{n:[123,123,135,128,123,123,135,130,126,125,126,128,123,123,135,128,123,123,135,130,126,125,126,128,123,123,135,128,123,123,135,130],f:[21,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,48]},{n:[123,123,135,128,123,123,135,130,126,125,126,128,123,123,135,128,123,123,135,130,126,125,126,128,123,,99,,,,99,,,,,,,,,,,,,,,,,,,,,,,,,,111],f:[,,,,,,,,,,,,,,,,,,,,,,,,,,,11,13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,31]},{n:[111,,,,,,,,123,,,,,,,,111,,,,,,,,123],f:[]},{n:[114,,,,,,,,126,,,,,,,,114,,,,,,,,114,126,111,123,114,126,118,130],f:[13,,,,,,,,,,,,,,,,,,,,,,,,13,,13,,13,,13,11,29,,,,,,,,,,,,,,,,,,,,,,,,32,,41,,29,,25,15]},{n:[123,123,135,128,123,123,135,130,126,125,126,128,123,123,135,128,123,123,135,130,126,125,126,128,123,,99,,,,99,,,,,,,,,,,,,,,,,,,,,,,,,,111],f:[13,11,21,17,,,,,,,,,,,,,,,,,,,,,,,,,,,,17,29,,25,113,,,,,,,,,,,,,,,,,,,,,,,,,,,,194]},{n:[111,,,,,,,,123,,,,,,,,111,,,,,,,,99],f:[]},{n:[111,123,,123,111,,123,111,111,123,,123,111,,123,111,111,123,,123,111,,123,111,111,123,,123,111,,123,111],f:[]},{n:[114,126,,126,114,,126,114,114,126,,126,114,,126,114,114,126,,126,114,,126,114,116,128,,128,116,,114,121],f:[]},{n:[],f:[]}]},{u:[0,255,117,1,0,255,110,0,1,0,4,6,35,0,0,0,0,0,0,2,14,1,1,39,76,5,0,0],p:[,1,1,1,1,1,1,2,,,,1,1,1,1,1,1,,,1,1,1,1,1,1],c:[{n:[147,,,,,,147,,,,147,,,,,,147,,,,,,147,,,,147,,,,147],f:[]},{n:[147],f:[]}]},{u:[0,0,140,0,0,0,140,0,0,60,4,10,68,0,0,0,187,5,0,1,239,135,0,32,108,5,16,4],p:[,1,1,2,3,2,3,4,,,,2,3,2,3,2,3,,,5,5,5,5,5,5,4],c:[{n:[,,,,147,,,,,,,,148,,,,,,,,147,,,,,,,,147],f:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,35]},{n:[,,,,147,,,147,,,,,148,,,,,,,,147,,,147,,,147,,,,147],f:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,35]},{n:[,,,,147,,,147,,,,,148,,,,,,,,147,,,147,,,147,,,147,147,147],f:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,35]},{n:[147],f:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,68]},{n:[147,,,147,,,147,,147,,,147,,147,,147,147,,,147,,,147,,147,,,147,,147,,147],f:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,35]}]},{u:[2,192,128,0,2,192,140,18,0,0,107,115,138,0,0,0,136,5,1,2,8,92,21,56,148,5,85,8],p:[3,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2],c:[{n:[111],f:[]},{n:[114],f:[]},{n:[111],f:[24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,56]}]},{u:[3,0,127,0,3,68,127,0,1,218,4,4,40,0,0,1,55,4,1,2,67,115,124,190,67,6,39,1],p:[,,,1,2,1,2,3,,,,1,2,1,2,1,2,,,1,4,1,4,1,4,3],c:[{n:[,,,,147,,,,,,,,147,,,,,,,,147,,,,,,,,147],f:[]},{n:[,,,,147,,,,,,,,147,,,,,,,,147,,,,,,,,147,,147,147],f:[]},{n:[147],f:[]},{n:[,,,,147,,,,,,,,147,,,,,,,,147,,,,,,,,147,,,147],f:[]}]},{u:[0,91,128,0,0,95,128,12,0,0,12,0,67,0,0,0,0,0,0,2,255,15,0,32,83,3,134,4],p:[,,,1,2,3,2,1,2,,,1,2,3,2,1,2,,,,,4,5,4,5],c:[{n:[159,,147,,154,,147,,157,,147,,154,,150,,159,,147,,154,,147,,162,,147,,154,,150,,123],f:[5,13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,67]},{n:[159,,147,,154,,147,,157,,147,,154,,150,,159,,147,,154,,147,,162,,147,,157,,162,,126],f:[]},{n:[159,,147,,154,,147,,157,,147,,154,,150,,159,,147,,154,,147,,162,,147,,154,,150,,123],f:[5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,3]},{n:[159,,162,,164,,,,159,,162,164,,,162,,159,,162,,164,,,,159,,162,164,,,162],f:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25]},{n:[157,,162,,164,,,,157,,162,164,,,162,,157,,162,,164,,,,157,,162,164,,,162],f:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,67]}]},{u:[3,146,140,0,1,224,128,3,0,0,92,0,95,0,0,3,179,5,1,3,37,135,63,67,150,3,157,6],p:[,,,,,,,,,1,2,3,,1,2,1,2,3,,4,5,,,,,3],c:[{n:[123,,,,,,,,,,,,,,,,130],f:[11,24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,92,67]},{n:[133,,,,,,,,,,,,,,,138,126,,,,,,,,,,,,125],f:[11,,,,,,,,,,,,,,,,,,,,,,,,,,,,11,,,,95,,,,,,,,,,,,,,,,,,,,,,,,,,,,29]},{n:[123],f:[24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,52,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,67]},{n:[123,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,138,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,116],f:[11,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,95]},{n:[133,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,126,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,118],f:[]}]},{u:[0,255,106,1,0,255,106,0,1,0,5,7,164,0,0,0,0,0,0,2,255,0,2,16,83,5,53,1],p:[,,,,,,,1,,,,,,,,,,1,,,,,,,,1],c:[{n:[147],f:[]}]}],m:5513,O:32,A:26,g:8},e=new function(){var n,t,r,f,e,u=function(n){return Math.sin(6.283184*n)},i=function(n){return.003959503758*Math.pow(2,(n-128)/12)},a=function(n,t,r){var f,e,u,a,c,l,v,s=o[n.u[0]],h=n.u[1],p=n.u[3],b=o[n.u[4]],M=n.u[5],y=n.u[8],j=n.u[9],w=n.u[10]*n.u[10]*4,d=n.u[11]*n.u[11]*4,m=n.u[12]*n.u[12]*4,O=1/m,A=n.u[13],g=r*Math.pow(2,2-n.u[14]),I=new Int32Array(w+d+m),S=0,L=0;for(f=0,e=0;f<w+d+m;f++,e++)e>=0&&(e-=g,l=i(t+(15&(A=A>>8|(255&A)<<4))+n.u[2]-128),v=i(t+(15&A)+n.u[6]-128)*(1+8e-4*n.u[7])),u=1,f<w?u=f/w:f>=w+d&&(u-=(f-w-d)*O),a=l,p&&(a*=u*u),c=s(S+=a)*h,a=v,y&&(a*=u*u),c+=b(L+=a)*M,j&&(c+=(2*Math.random()-1)*j),I[f]=80*c*u|0;return I},o=[u,function(n){return n%1<.5?1:-1},function(n){return n%1*2-1},function(n){var t=n%1*4;return t<2?t-1:3-t}];this.init=function(u){n=u,t=u.A,r=0,f=u.m*u.O*(t+1)*2,e=new Int32Array(f)},this.I=function(){var i,c,l,v,s,h,p,b,M,y,j,w,d,m,O=new Int32Array(f),A=n.j[r],g=n.m,I=n.O,S=0,L=0,_=!1,x=[];for(l=0;l<=t;++l)for(p=A.p[l],v=0;v<I;++v){var C=p?A.c[p-1].f[v]:0;C&&(A.u[C-1]=A.c[p-1].f[v+I]||0,C<16&&(x=[]));var D=o[A.u[15]],P=A.u[16]/512,U=Math.pow(2,A.u[17]-9)/g,k=A.u[18],q=A.u[19],z=43.23529*A.u[20]*3.141592/44100,B=1-A.u[21]/255,E=1e-5*A.u[22],F=A.u[23]/32,G=A.u[24]/512,H=6.283184*Math.pow(2,A.u[25]-9)/g,J=A.u[26]/255,K=A.u[27]*g&-2;for(j=(l*I+v)*g,s=0;s<4;++s)if(h=p?A.c[p-1].n[v+s*I]:0){x[h]||(x[h]=a(A,h,g));var N=x[h];for(c=0,i=2*j;c<N.length;c++,i+=2)O[i]+=N[c]}for(c=0;c<g;c++)(y=O[b=2*(j+c)])||_?(w=z,k&&(w*=D(U*b)*P+.5),L+=(w=1.5*Math.sin(w))*(d=B*(y-L)-(S+=w*L)),y=3==q?L:1==q?d:S,E&&(y=(y*=E)<1?y>-1?u(.25*y):-1:1,y/=E),_=(y*=F)*y>1e-5,m=y*(1-(M=Math.sin(H*b)*G+.5)),y*=M):m=0,b>=K&&(m+=O[b-K+1]*J,y+=O[b-K]*J),O[b]=0|m,O[b+1]=0|y,e[b]+=0|m,e[b+1]+=0|y}return++r/n.g},this.S=function(){var n=44+2*f-8,t=n-36,r=new Uint8Array(44+2*f);r.set([82,73,70,70,255&n,n>>8&255,n>>16&255,n>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&t,t>>8&255,t>>16&255,t>>24&255]);for(var u=0,i=44;u<f;++u){var a=e[u];a=a<-32767?-32767:a>32767?32767:a,r[i++]=255&a,r[i++]=a>>8&255}return r},this.getData=function(n,t){for(var r=2*Math.floor(44100*n),f=new Array(t),u=0;u<2*t;u+=1){var i=r+u;f[u]=n>0&&i<e.length?e[i]/32768:0}return f}};e.init(f),e.init(f);let u=!1;setInterval((function(){if(!u&&(u=e.I()>=1)){let n=e.S();postMessage(n)}}),10)}]);',null)}},function(t,i,s){"use strict";var e=window.URL||window.webkitURL;t.M=function(t,i){try{try{var s;try{(s=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),s=s.getBlob()}catch(i){s=new Blob([t])}return new Worker(e.createObjectURL(s))}catch(i){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(t){if(!i)throw Error("Inline worker is not supported");return new Worker(i)}}},function(t,i,s){"use strict";s.r(i);let e=null;class h{constructor(t){this.canvas=t,e=this.canvas.getContext("2d"),this.J={x:0,y:0}}G(t){return t-this.J.x+this.canvas.width/2}X(t){return t-this.J.y+this.canvas.height/2}Z(t){e.save(),t(),e.restore()}V(){e.clearRect(0,0,this.canvas.width,this.canvas.height)}tt(t){e.fillStyle=t,e.fillRect(0,0,this.canvas.width,this.canvas.height)}rect({rect:t,it:i,st:s,shadowBlur:h,shadowColor:r,lineWidth:n=1,et:a=!0,rotation:o,size:l}){a&&(t[0]=this.G(t[0]),t[1]=this.X(t[1])),o&&(e.translate(t[0]+l/2,t[1]+l/2),e.rotate(o),e.translate(-1*t[0]-l/2,-1*t[1]-l/2)),e.shadowBlur=h,e.shadowColor=r,i&&(e.fillStyle=i,e.fillRect(t[0],t[1],...t.slice(2))),s&&(e.strokeStyle=s,e.lineWidth=n,e.strokeRect(t[0],t[1],...t.slice(2)))}arc({arc:t,it:i,st:s,shadowBlur:h,shadowColor:r}){e.beginPath(),e.arc(this.G(t[0]),this.X(t[1]),...t.slice(2)),e.shadowBlur=h,e.shadowColor=r,i&&(e.fillStyle=i,e.fill()),s&&(e.strokeStyle=s,e.stroke())}text({text:t,x:i,y:s,size:h="14px",font:r="Courier",letterSpacing:n=!1,et:a=!0,filter:o,it:l}){a&&(i=this.G(i),s=this.X(s)),o&&(e.filter=o),e.font=h+" "+r,t=n?t.split("").join(" "):t,e.fillStyle=l||"#fff",e.fillText(t,i,s)}ht({ht:t,shadowBlur:i=0,shadowColor:s,rotation:h,x:r,y:n,it:a,st:o}){h&&(e.translate(this.G(r),this.X(n)),e.rotate(h),e.translate(-1*this.G(r),-1*this.X(n))),e.beginPath(),e.moveTo(this.G(t[0][0]),this.X(t[0][1])),t.slice(1).map(t=>e.lineTo(this.G(t[0]),this.X(t[1]))),e.closePath(),e.shadowBlur=i,e.shadowColor=s,o&&(e.strokeStyle=o,e.stroke()),a&&(e.fillStyle=a,e.fill())}fill({path:t,x:i,y:s,it:h,st:r,rotation:n,et:a=!0,rt:o=!0,size:l}){a&&(i=this.G(i),s=this.X(s)),n&&(e.translate(i,s),e.rotate(n),e.translate(-1*i,-1*s)),e.translate(i,s),o||e.translate(-l/2,-l/2+.5),h&&(e.fillStyle=h,e.fill(t)),r&&(e.strokeStyle=r,e.fillStyle=h||"#131",e.fill(t),e.stroke(t))}nt({x:t,y:i,size:s}){this.rect({rect:[t-s/2,i-s/2,s,s],color:"#f00"})}}let r=document.getElementById("c");class n{constructor(){this.canvas=r}initialize(){let t=document.querySelector("body");const i=i=>{t.clientWidth/t.clientHeight>640/480?(r.style.height="100vh")&&(r.style.width="auto"):(r.style.height="auto")&&(r.style.width="100vw")};i(),t.onresize=i}}var a=class{constructor(){document.addEventListener("keyup",t=>this.at(t)),document.addEventListener("keydown",t=>this.ot(t)),this.lt={},this.ct=13,this.ut=32,this.ft=37,this.dt=38,this.wt=39,this.yt=40}pt(t){return this.lt[t]}ot(t){this.lt[t.keyCode]=!0}at(t){delete this.lt[t.keyCode]}},o=s(0),l=s(2),c=s.n(l);class u{constructor(){(new c.a).onmessage=function(t){let i=t.data,s=document.createElement("audio");s.src=URL.createObjectURL(new Blob([i],{type:"audio/wav"})),s.volume=0,s.loop=!0,function t(i){i.then(t=>{}).catch(i=>{setTimeout(()=>{let i=s.play();t(i)},1e3)})}(s.play())}}}class f{Mt(t,i){return!t.Ct&&!i.Ct&&t.x<i.x+i.size/2&&t.x+t.size>i.x-i.size/2&&t.y<i.y+i.size/2&&t.y+t.size>i.y-i.size/2&&(t.xt(),i.vt(t),!0)}}let d=[],w=[];function y(t,i){return(t%i+i)%i}class p{constructor({gt:t,ch:i}){for(let s=0;s<100;s++)d.push([Math.random()*t,Math.random()*i,Math.random()]);for(let s=0;s<100;s++)w.push([Math.random()*t,Math.random()*i,Math.random()])}Z(t){t.Z(()=>{t.tt("#111"),d.map(i=>t.rect({rect:[y(i[0]-t.J.x/(3+3*i[2]),t.canvas.width),y(i[1]-t.J.y/(3+3*i[2]),t.canvas.height),1,1],it:"rgba(255, 255, 255, 0.6)",et:!1})),w.map(i=>t.rect({rect:[y(i[0]-t.J.x/(7+3*i[2]),t.canvas.width),y(i[1]-t.J.y/(7+3*i[2]),t.canvas.height),1,1],it:"rgba(255, 255, 255, 0.3)",et:!1})),t.text({text:"back to earth",x:-145,y:-95,size:"36px",font:"serif",letterSpacing:!0}),t.text({text:"Arrow keys to move. SPACE to shoot.",x:-145,y:105}),t.text({text:"ENTER to land back on earth.",x:-115,y:130}),t.text({text:"Shoot things. Collect ore. Upgrade weapons.",x:-178,y:155})})}}let M=new Path2D("m 6 0 l -6 5 l 6 5 z");class m{constructor(){this.bt=[{x:0,y:0,_t:0,color:"#fff",visible:!1}],this.kt=0}Lt(t){this.kt+=1,this.bt=this.bt.map(i=>(i.visible=Math.sqrt(t.At()*t.At()+t.St()*t.St())>400,i._t=Math.atan2(t.St(),t.At()),i))}Z(t){this.bt.forEach(i=>i.visible&&t.Z(()=>{t.fill({path:M,x:Math.cos(i._t)*(5*Math.sin(this.kt/10)-230)+320,y:Math.sin(i._t)*(5*Math.sin(this.kt/10)-230)+240,rotation:i._t,it:i.color,et:!1})}))}}class C{constructor(){this.timeout=15}Lt(t,i,s,e){if(t.pt(t.ct)&&this.timeout<0){if(this.timeout=15,i.jt=!1,i.timeout=15,i.Ot(0),i.zt(0),s.Et(),i.Dt(),i.level>=1)for(let t=0;t<5;t++)e.Bt((300+300*Math.random())*(2*Math.round(Math.random())-1)+i.At(),(300+300*Math.random())*(2*Math.round(Math.random())-1)+i.St());if(i.level>=2)for(let t=0;t<20;t++)e.Bt((300+300*Math.random())*(2*Math.round(Math.random())-1)+i.At(),(300+300*Math.random())*(2*Math.round(Math.random())-1)+i.St())}if(this.timeout-=1,t.pt(t.ut)&&this.timeout<0){if(this.timeout=15,i.level>=i.Pt.length-1)return;let t=i.Pt[i.level+1].It;i.Ft>=t&&(i.Ft-=t,i.Qt(i.level+1))}}Z(t,i){let s=i=>t.text({text:i[2],x:i[0],y:i[1],et:!1,it:i[3]||"#fff"});t.Z(()=>{t.rect({rect:[0,0,640,480],it:"rgba(0, 0, 0, 0.6)",et:!1}),t.rect({rect:[150,90,340,300],it:"#fff",et:!1}),t.rect({rect:[151,91,338,298],it:"#000",shadowBlur:2,shadowColor:"#fff",et:!1})}),t.Z(()=>{if(t.text({text:"Welcome to Earth",x:210,y:130,size:"20px",font:"serif",letterSpacing:!0,et:!1}),i.level>=i.Pt.length-1)s([212,210,"You have all ship upgrades"]);else{let t=i.Pt[i.level+1];s([230,165,"Next ship improvements"]),s([245,195,`Speed:     ${t.speed}`,"#ffa"]),s([227,220,`Weapons:     ${t.Ut}`,"#ffa"]),s([252,245,`Hull:     ${t.Tt}`,"#ffa"]),s([252,270,`Cost:     ${t.It} ore`,"#ffa"]),s([218,300,`You have:     ${i.Ft} ore`]),s([230,335,"SPACE to upgrade ship"])}s([235,360,"ENTER to leave Earth"])})}}class x{Z(t){t.Z(()=>{t.text({text:"🌎",x:-65,y:35,size:"100px",color:"blue",filter:"contrast(75%) brightness(60%) saturate(40%) hue-rotate(-10deg)"})})}}class v{constructor({x:t,y:i,color:s="#fff"}){this.x=t,this.y=i,this.color=s,this.dx=4*Math.random()-2,this.dy=4*Math.random()-2,this.qt=!1,this.Ct=!1}Lt(){this.x+=this.dx,this.y+=this.dy}Z(t){t.Z(()=>{t.rect({rect:[this.x,this.y,2,2],it:this.color,shadowBlur:2,shadowColor:this.color})})}}let g={"main-laser":{color:"#3ff",shadowColor:"#0ff",speed:4,Kt:4},"enemy-laser":{color:"#f00",shadowColor:"#f00",speed:4,Kt:4},"secondary-laser":{color:"#f6f",shadowColor:"#f0f",speed:10,Kt:1,line:8},"enemy-secondary-laser":{color:"#f00",shadowColor:"#f00",speed:10,Kt:1,line:8},K:{type:"missile",color:"#ff0",shadowColor:"#ff0",speed:.8,Kt:10,Wt:5,arc:2,Ht:!0},"enemy-missile":{type:"missile",color:"#f60",shadowColor:"#f60",speed:.8,Kt:10,Wt:5,arc:2,Ht:!0}};class b{constructor({x:t,y:i,Rt:s,$t:e,type:h,Nt:r,target:n}){this.type=g[h],this.x=t,this.y=i,this.Rt=s,this.Nt=r,this.Kt=1e3*this.type.Kt/60,this.size=1,this.qt=!1,this.$t=e,this.Ct=!1,this.dx=Math.sin(this.Rt)*this.type.speed,this.dy=-Math.cos(this.Rt)*this.type.speed,this.target=n}Lt(){if(this.Kt-=1,this.Kt<=0&&(this.qt=!0),!this.Ct){if("missile"===this.type.type){let t,i;if(this.target&&!this.target.Ct&&this.Kt<1e3*(this.type.Kt-.5)/60){t=this.x-this.target.x,i=this.y-this.target.y;let s=Math.sqrt(t*t+i*i);t=t/s*this.type.speed,i=i/s*this.type.speed}else t=this.dx*-this.type.speed,i=this.dy*-this.type.speed;this.dx-=t,this.dy-=i;let s=Math.sqrt(this.dx*this.dx+this.dy*this.dy);s>this.type.Wt&&(this.dx=this.dx/s*this.type.Wt,this.dy=this.dy/s*this.type.Wt)}this.x+=this.dx,this.y+=this.dy}}xt(){this.Ct=!0,this.Kt=2}Z(t){t.Z(()=>{this.Ct?t.arc({arc:[this.x,this.y,4/this.Kt*(this.type.Ht?2:1),0,2*Math.PI],it:"#ff8",shadowBlur:10,shadowColor:"#ff0"}):this.type.line?t.rect({rect:[this.x,this.y,1,this.type.line],it:this.type.color,shadowBlur:2,shadowColor:this.type.shadowColor,rotation:this.Rt,size:1}):this.type.arc?t.arc({arc:[this.x,this.y,this.type.arc,0,2*Math.PI],it:this.type.color,shadowBlur:1,shadowColor:this.type.color}):t.rect({rect:[this.x,this.y,2,2],it:this.type.color,shadowBlur:2,shadowColor:this.type.shadowColor})})}}function _({Yt:t,Jt:i,x:s,y:e,Rt:h,type:r,Nt:n,Gt:a}){t&&(n.Xt.push(new b({x:s,y:e,Rt:h,$t:1,type:r,Nt:n})),n.Zt=!1,window.setTimeout(()=>n.Zt=!0,1e3*i),a())}function k({Yt:t,Jt:i,x:s,y:e,Rt:h,type:r,Nt:n,Gt:a}){t&&(n.Xt.push(new b({x:s,y:e,Rt:h,$t:1,type:r,Nt:n})),n.Vt*=-1,n.ti=!1,window.setTimeout(()=>n.ti=!0,1e3*i),a())}function L({Yt:t,Jt:i,x:s,y:e,Rt:h,type:r,Nt:n,target:a,Gt:o}){t&&(n.Xt.push(new b({x:s,y:e,Rt:h,$t:1,type:r,Nt:n,target:a})),n.ii*=-1,n.si=!1,window.setTimeout(()=>n.si=!0,1e3*i),o())}var A={ei:"M 2 16 Q 0 8 4 8 C 8 6 6 8 8 4 L 10 2 L 12 4 C 14 8 12 6 16 8 Q 20 8 18 16 L 14 14 Q 10 16 6 14 L 2 16 ",hi:{small:"M 1 7 Q 0 6 2 4 C 3 5 4 5 4 2 L 5 1 L 6 2 C 6 5 7 5 8 4 Q 10 6 9 7 L 7 7 C 6 8 4 8 3 7 L 1 7 ",ri:"M 2 14 Q 0 12 4 8 C 6 10 8 10 8 4 L 10 2 L 12 4 C 12 10 14 10 16 8 Q 20 12 18 14 L 14 14 C 12 16 8 16 6 14 L 2 14 ",ni:"M4 40 L8 32 L14 32 L20 36 L26 32 L32 32 L36 40 Q40 30 40 20 Q40 12 36 6 Q36 10 30 20 L26 20 Q22 14 24 10 L20 0 L16 10 Q18 14 14 20 L10 20 Q4 12 4 6 Q0 10 0 20 Q0 28 4 40 Z"}},S=[{Z:(t,i,s,e,h)=>{t.Z(()=>{t.fill({path:new Path2D(A.hi.ri),x:i,y:s,rotation:h,it:"#700",st:"#a44",rt:!1,size:e})})},acceleration:.01,ai:.05,Wt:1,Ut:["enemy-laser","enemy-secondary-laser"],oi:.5,li:.2,ci:5,ui:100,size:20},{Z:(t,i,s,e,h)=>{t.Z(()=>{t.fill({path:new Path2D(A.hi.small),x:i,y:s,rotation:h,it:"#700",st:"#a44",rt:!1,size:e})})},acceleration:.05,ai:.1,Wt:1.5,Ut:["enemy-laser"],oi:.5,ci:3,ui:100,size:10},{Z:(t,i,s,e,h)=>{t.Z(()=>{t.fill({path:new Path2D(A.hi.ni),x:i,y:s,rotation:h,it:"#700",st:"#a44",rt:!1,size:e})})},acceleration:.05,ai:.1,Wt:1.5,Ut:["enemy-laser","enemy-secondary-laser","enemy-missile"],oi:.5,li:.2,fi:.2,ci:10,ui:100,size:40}];class j{constructor(t,i,s){this.x=i,this.y=s,this.dx=0,this.dy=0,this.Rt=0,this.qt=!1,this.Ct=!1,this.type=t,this.Xt=[],this.size=t.size,this.acceleration=t.acceleration,this.Wt=t.Wt,this.ai=t.ai,this.ci=t.ci,this.ui=t.ui,this.P=!0,this.Zt=t.Ut.includes("enemy-laser"),this.oi=t.oi,this.ti=t.Ut.includes("enemy-secondary-laser"),this.li=t.li,this.Vt=1,this.si=t.Ut.includes("enemy-missile"),this.fi=t.fi,this.ii=1}vt({$t:t,dx:i,dy:s,Nt:e}){this.dx+=i/30,this.dy+=s/30,this.ci-=t,this.ci<=0&&(this.Ct=!0,this.di=Array(40).fill().map(t=>new v({x:this.x,y:this.y,color:"#aa3"})),this.Kt=80,e.Ft+=this.ui)}wi(t,i){_({Yt:this.Zt,Jt:this.oi,x:this.x,y:this.y,size:this.size,Rt:this.Rt,type:"enemy-laser",Nt:this,Gt:()=>t.H()}),k({Yt:this.ti,Jt:this.li,x:this.Vt*Math.cos(this.Rt)*(this.size/2)+this.x,y:this.Vt*Math.sin(this.Rt)*(this.size/2)+this.y,size:this.size,Rt:this.Rt,type:"enemy-secondary-laser",Nt:this,Gt:()=>t.T()}),L({Yt:this.si,Jt:this.fi,x:this.ii*Math.cos(this.Rt)*(this.size/2)+this.x,y:this.ii*Math.sin(this.Rt)*(this.size/2)+this.y,Rt:this.Rt+Math.PI/2*this.ii,type:"enemy-missile",Nt:this,target:i,Gt:()=>t.K()})}Lt(t,i){if(this.Xt.map(t=>t.Lt()),this.Xt=this.Xt.filter(t=>!t.qt),this.Ct)this.Kt-=1,this.di.map(t=>t.Lt()),this.Kt<=0&&(this.qt=!0);else{let s=Math.atan2(i.At()-this.x,-i.St()+this.y);if(this.Rt+=this.Rt-s>0?-this.ai:this.ai,this.Rt%=2*Math.PI,this.P=!0,this.P){this.dx+=Math.sin(this.Rt)*this.acceleration,this.dy+=Math.cos(this.Rt)*-this.acceleration;let t=Math.sqrt(this.dx*this.dx+this.dy*this.dy);t>this.Wt&&(this.dx=this.dx/t*this.Wt,this.dy=this.dy/t*this.Wt)}let e=Math.sqrt((this.x-i.x)*(this.x-i.x)+(this.y-i.y)*(this.y-i.y));!i.Ct&&e<320&&this.wi(t,i)}this.x+=this.dx,this.y+=this.dy}Z(t){this.Xt.map(i=>i.Z(t)),this.Ct?(this.di.map(i=>i.Z(t)),t.Z(()=>{t.arc({arc:[this.x+20*Math.random()-10,this.y+20*Math.random()-10,2+6*Math.random(),0,2*Math.PI],st:"rgb(255,"+Math.floor(155*Math.random()+100)+","+Math.floor(50*Math.random())+")",shadowBlur:10,shadowColor:"#f00"})})):this.type.Z(t,this.x,this.y,this.size,this.Rt)}}class O{constructor(){this.hi=[]}Bt(t,i){let s=Math.floor(3*Math.random());this.hi.push(new j(S[s],t,i))}Lt(t,i){this.hi.forEach(s=>s.Lt(t,i)),this.hi=this.hi.filter(t=>!t.qt)}Z(t){this.hi.forEach(i=>i.Z(t))}}class z{Lt(){}Z(t){t.Z(()=>{t.tt("rgba(0,0,0,0.85)"),t.text({text:"game over",x:170,y:200,size:"48px",font:"serif",et:!1,letterSpacing:!0})})}}class E{constructor(){this.Ft=0}Lt(t){this.ci=t.ci,this.yi=t.yi,this.Ft=t.Ft}Z(t){t.Z(()=>{t.rect({rect:["270","10",100,5],st:"#fff",et:!1})}),t.Z(()=>{let i=this.ci/this.yi;if(t.rect({rect:["270","10",100*i,5],it:`rgb(${200-255*i}, ${200*i}, 0)`,et:!1}),this.Ft>-10){let i=`ore: ${this.Ft}`;t.text({text:i,x:"299"-3.5*(i.length-6),y:"30",size:"11px",et:!1})}})}}var D=[{ai:.05,Wt:1,acceleration:.01,size:20,oi:.3,Zt:!0,yi:10},{It:100,ai:.07,Wt:2,acceleration:.03,size:20,oi:.3,Zt:!0,li:.2,ti:!0,yi:20,speed:"fast",Ut:"dual-blasters",Tt:"strong"},{It:400,ai:.09,Wt:3,acceleration:.2,size:20,oi:.3,Zt:!0,li:.2,ti:!0,fi:.2,si:!0,yi:40,speed:"fastest",Ut:"missiles",Tt:"strongest"}];let B=3.4,P=.05,I=1,F=.01,Q=20,U=.3,T=.2,q=.2,K={P:!1},W=0;function H(t,i,s,e){let h=null,r=99999999;return s.forEach(s=>{if(s.Ct)return;let n=s.x-t,a=s.y-i,o=Math.sqrt(n*n+a*a);o>e||o<r&&(h=s,r=o)}),h}class R{constructor(){this.x=85,this.y=-400,this.dx=-.1,this.dy=.5,this.Xt=[],this.jt=!1,this.Ft=0,this.timeout=0,this.level=0,this.Pt=D,this.yi=10,this.ci=10,this.Ct=!1,this.size=Q,this.Zt=!0,this.ti=!1,this.Vt=1,this.si=!1,this.ii=1}At(){return this.x}St(){return this.y}Ot(t){this.dx=t}zt(t){this.dy=t}vt({$t:t,pi:i,Mi:s}){this.ci-=t,this.ci<=0&&(this.Ct=!0,this.di=Array(100).fill().map(t=>new v({x:this.x,y:this.y,color:"#aa3"})).concat(Array(100).fill().map(t=>new v({x:this.x,y:this.y,color:"#a33"}))),this.Kt=80)}Dt(){this.ci=D[this.level].yi}Qt(t){({ai:P,Wt:I,acceleration:F,size:Q,oi:U,li:T,fi:q}=D[t]),this.Zt=D[t].Zt,this.ti=D[t].ti,this.si=D[t].si,this.yi=D[t].yi,this.level=t}wi(t,i,s){t.pt(t.ut)&&(_({Yt:this.Zt,Jt:U,x:this.x+Math.sin(B)*Q/2,y:this.y-Math.cos(B)*Q/2,Rt:B,type:"main-laser",Nt:this,Gt:()=>i.U()}),k({Yt:this.ti,Jt:T,x:this.Vt*Math.cos(B)*(Q/2)+this.x,y:this.Vt*Math.sin(B)*(Q/2)+this.y,size:Q,Rt:B,type:"secondary-laser",Nt:this,Gt:()=>i.T()}),L({Yt:this.si,Jt:q,x:this.ii*Math.cos(B)*(Q/2)+this.x,y:this.ii*Math.sin(B)*(Q/2)+this.y,Rt:B+Math.PI/2*this.ii,type:"missile",Nt:this,target:H(this.x,this.y,s,260),Gt:()=>i.K()}))}Lt(t,i,s,e){if(this.Xt.map(t=>t.Lt()),this.Xt=this.Xt.filter(t=>!t.qt),this.Ct)this.Kt-=1,this.di.map(t=>t.Lt()),this.Kt<=0&&(this.mi=!0);else{if(this.timeout<0&&t.pt(t.ct)&&(this.jt=!0),this.timeout-=1,W+=1,t.pt(t.ft)&&(B-=P),t.pt(t.wt)&&(B+=P),K.P=t.pt(t.dt),K.P){this.dx+=Math.sin(B)*F,this.dy+=Math.cos(B)*-F;let t=Math.sqrt(this.dx*this.dx+this.dy*this.dy);t>I&&(this.dx=this.dx/t*I,this.dy=this.dy/t*I),i.P()}else i.I();this.wi(t,i,e),this.x+=this.dx,this.y+=this.dy,s.J.x=this.x,s.J.y=this.y}}Z(t){if(this.Xt.map(i=>i.Z(t)),this.Ct)this.di.map(i=>i.Z(t)),t.Z(()=>{t.arc({arc:[this.x+20*Math.random()-10,this.y+20*Math.random()-10,2+6*Math.random(),0,2*Math.PI],st:"rgb(255,"+Math.floor(155*Math.random()+100)+","+Math.floor(50*Math.random())+")",shadowBlur:10,shadowColor:"#f00"})});else{K.P&&this.Ci(t);let i=this.x*this.x+this.y*this.y;i<3600&&this.xi(t,i),t.Z(()=>{t.fill({path:new Path2D(A.ei),x:this.x,y:this.y,rotation:B,st:"#070",rt:!1,size:Q})})}}Ci(t){t.Z(()=>{t.ht({x:this.x,y:this.y,ht:[[this.x+-.25*Q,this.y+.25*Q],[this.x+.25*Q,this.y+.25*Q],[this.x,this.y+.25*Q+5*Math.random()],[this.x+-.25*Q,this.y+.25*Q]],rotation:B,it:"orange"})})}xi(t,i){t.Z(()=>{t.arc({arc:[this.x,this.y,4*i/60+Math.sin(W/8)+10,0,2*Math.PI],st:`rgba(255, 255, 255, ${1-i/3600})`})})}}const $=[[[-6,-10],[2,-10],[10,-7],[10,-5],[2,0],[10,3],[4,10],[1,8],[-6,10],[-10,2],[-10,-5],[-5,-5]],[[-5,-10],[0,-7],[5,-10],[10,-3],[5,0],[9,5],[4,10],[-3,7],[-7,9],[-10,5],[-7,0],[-9,-6]]];class N{constructor({x:t,y:i}){this.x=t,this.y=i,this.dx=0,this.dy=0,this.vi=Math.floor(Math.random()*$.length),this.rotation=Math.random()*Math.PI,this.ai=.03*Math.random(),this.size=20,this.ci=3,this.qt=!1,this.Ct=!1}vt({$t:t,dx:i,dy:s,Nt:e}){this.dx+=i/30,this.dy+=s/30,this.ci-=t,this.ci<=0&&(this.Ct=!0,this.di=Array(20).fill().map(t=>new v({x:this.x,y:this.y})),this.Kt=50,e.Ft+=10)}Lt(){this.Ct&&(this.Kt-=1,this.di.map(t=>t.Lt()),this.Kt<=0&&(this.qt=!0)),this.x+=this.dx,this.y+=this.dy,this.rotation+=this.ai}Z(t){t.Z(()=>{this.Ct?this.di.map(i=>i.Z(t)):t.ht({ht:$[this.vi].map(t=>[this.x+t[0],this.y+t[1]]),st:"#fff",shadowBlur:8,shadowColor:"#fff",rotation:this.rotation,x:this.x,y:this.y})})}}class Y{constructor(){this.Et()}Et(){this.gi=[];for(let t=0;t<40;t++){let t=Math.random()*Math.PI*2,i=Math.sin(t)*(210+400*Math.random()),s=Math.cos(t)*(210+400*Math.random());this.gi.push(new N({x:i,y:s}))}}Lt(){this.gi.forEach(t=>t.Lt()),this.gi=this.gi.filter(t=>!t.qt)}Z(t){this.gi.map(i=>i.Z(t))}}window.onload=()=>{const t=new n,i=new h(t.canvas),s=new a,e=new o.a,r=new f;t.initialize();let l=(new Date).getTime(),c=0,d=0,w=()=>{y(),M(),v()},y=()=>{D.jt?L.Lt(s,D,B,S):(k.Lt(D),_.Lt(D),S.Lt(e,D),D.Lt(s,e,i,B.gi.concat(S.hi)),B.Lt())},M=()=>{D.Xt.forEach(t=>{B.gi.forEach(i=>{r.Mt(t,i)&&e.W()}),S.hi.forEach(i=>{r.Mt(t,i)&&e.W()})}),S.hi.forEach(t=>{t.Xt.forEach(t=>{r.Mt(t,D)&&e.W(),B.gi.forEach(i=>{r.Mt(t,i)&&e.W()})})})},v=()=>{window.requestAnimationFrame(w),c=(new Date).getTime(),(d=c-l)>1e3/60&&(i.V(),g().map(t=>t.Z(i)),D.jt&&L.Z(i,D),D.mi&&j.Z(i),l=c-d%(1e3/60))},g=()=>[b,A,B,S,D,_,k];const b=new p({gt:t.canvas.width,ch:t.canvas.height}),_=new m,k=new E,L=new C,A=new x,S=new O,j=new z,D=(new u,new R),B=new Y;document.querySelector("main").className+=" loaded",w()}}]);</script>